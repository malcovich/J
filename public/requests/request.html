<div class="inner-block">
	<div class="request-block">
		<div class="request-header">
            <div class="request-avtor-img">
                <img ng-src="{{$ctrl.request.userId.img}}" alt="">
            </div>
            <div class="request-autor-info">
                <h4 class="req-user-name">{{$ctrl.request.userId.name}}</h4>
                <span class="date-request"><i class="glyphicon glyphicon-calendar"></i>{{$ctrl.request.requestDate | date}}</span>
                <div ng-show="$ctrl.user._id == ctrl.request.userId._id">
                    <span ng-click="$ctrl.change(req)" class="btn edit">Редактировать</span>
                    <span ng-click="$ctrl.deleteRequest(req._id)" class="btn delete">Удалить</span>
                </div>
                <div ng-hide="$ctrl.user._id == $ctrl.request.userId._id">
                        <span ng-click="$ctrl.openModalfromNet()" class="btn green-btn">Выбрать из сети</span>
                </div>
            </div>

		</div>
		<div class="request-body">
            <p class="request-text">"{{$ctrl.request.text}}"</p>
		</div>
    </div>
    <div class="my-answer" ng-show="$ctrl.request.userId._id == $ctrl.user._id">
        <table class="list-contacts">
            <thead>
              <tr>
                  <th class="type">Тип</th>
                  <th class="name">Имя специалиста</th>
                  <th class="category">Категория</th>
                  <th class="spec">Специализация</th>
                  <th class="raiting">Рейтинг</th>
                  <th class="raiting">Кто рекомендует</th>
                  
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="item in $ctrl.allContatctsFromAnsers" ng-hide="$ctrl.allAnswers.length == 0">
                <td class="type"><span class="contact-icon-type orange"></span></td>
                <td class="name" ui-sref="main.contact({id:item.contact._id})">
                  <div class="contact-img"><img ng-src="{{item.contact.img || '/public/images/vectorpaint1.png'}}"></div>{{item.contact.name}}</td>
                <td >{{item.contact.category[0].title}}</td>
                <td>{{item.contact.spec}}</td>
                <td><input-stars
                    max="5"
                    icon-base="fa fa-fw"
                    icon-empty="fa-star-o"
                    icon-full="fa-star" 
                    icon-hover-full="fa-star" 
                    ng-attr-readonly= true 
                    ng-model="$ctrl.r"
                    ></input-stars></td>
                    <td>{{item.user.name}}</td>
              </tr>
              <tr  ng-show="$ctrl.allAnswers.length == 0">
                  <td class="no-answers" colspan="6">На данный момент вам еще не порекомендовали специалиста</td>
              </tr>
            </tbody>
          </table>
    </div>

<!-- <div class="category-contacts-list" ng-hide="$ctrl.request.userId._id == $ctrl.user._id">
  <div ng-repeat="contact in $ctrl.category.contacts" class="contact-item" ui-sref="main.contact({id:contact._id})"> 
    <div class="contact-item-img">
      <img ng-src="{{contacts.img || '/public/images/vectorpaint1.png'}}">
    </div>
    <div class="contact-item-info">
      <h4>{{contact.name}}</h4>
      <p>{{contact.spec}}</p>
    </div>
  </div>
</div>
 -->
    <div >
         <h4  ng-hide="$ctrl.request.userId._id == $ctrl.user._id">Вы рекомендуете:</h4>
        <div class="my-answer" ng-hide="$ctrl.request.userId._id == $ctrl.user._id">
            <table class="list-contacts">
                <thead>
                  <tr>
                      <th class="type">Тип</th>
                      <th class="name">Имя</th>
                      <th class="category">Категория</th>
                      <th class="spec">Специализация</th>
                      <th class="raiting">Рейтинг</th>
                      
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="contact in $ctrl.selectedContacts" >
                    <td class="type"><span class="contact-icon-type orange"></span></td>
                    <td class="name" ui-sref="main.contact({id:contact._id})">
                      <div class="contact-img"><img ng-src="{{contacts.img || '/public/images/vectorpaint1.png'}}"></div>{{contact.name}}</td>
                    <td >{{$ctrl.category.category.title}}</td>
                    <td>{{contact.spec}}</td>
                    <td><input-stars
                        max="5"
                        icon-base="fa fa-fw"
                        icon-empty="fa-star-o"
                        icon-full="fa-star" 
                        icon-hover-full="fa-star" 
                        ng-attr-readonly= true 
                        ng-model="$ctrl.r"
                        ></input-stars></td>
                  </tr>
                </tbody>
              </table>
        </div>
    </div>
</div>
        
<!-- modal -->

<script type="text/ng-template" id="myModalContent.html">
    <div class="add-contact-to-request">
        <div class="modal-header">
            <h3 class="modal-title" id="modal-title">Специалисты вашей сети:</h3>
        </div>
        <div class="modal-body" id="modal-body">        
        <div >
                    <li ng-repeat="p in  vm.contacts ">
                        <input type="checkbox" ng-model="p.selected">
                        <p class="contact-name">{{p.name}} - {{p.spec}}</p>
                    </li>
                </ul>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" type="button" ng-click="vm.ok()">OK</button>
            <button class="btn btn-warning" type="button" ng-click="vm.cancel()">Cancel</button>
        </div>
    </div>
   
</script>
